# Определяем базовый образ
FROM node:14

# Устанавливаем рабочую директорию
WORKDIR /usr/src/app

# Копируем список зависимостей
COPY package*.json /usr/src/app/

# Устанавливаем зависимости через команду CLI
RUN npm install

# Копируем исходные файлы проекта
COPY . /usr/src/app

# Определяем переменные среды (env vars)
ENV PORT=8000

# Определяем порт, который будет прослушиваться 
EXPOSE $PORT

# Описываем команду, которая будет выполнена после запуска контейнера
CMD [ "npm", "start" ]
